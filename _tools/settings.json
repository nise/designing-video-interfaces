


/*
 * Helper: Adds a pattern to all portals
 **/
exports.addPattern = function(req, res) {
	
	Portals.find().exec(function (err, docs) {
		if(err){ res.end(); }
		//console.log(docs);
		for(var i = 0; i < docs.length; i++){
			var portal = docs[i];
			
			portal.patterns = ( String(docs[i].patterns).replace(/,Basic Controls/g,'') + ",Basic Controls" ).split(',');
			/*
			portal.save( function ( err ){
		  	if(err){ console.log(err); }
		  	console.log('updated '+portal.name)
		  	//res.end(portal);
		  });
		  */
		}
	});
}
